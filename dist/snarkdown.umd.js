!function(n,e){"object"==typeof exports&&"undefined"!=typeof module?e():"function"==typeof define&&define.amd?define(e):e()}(this,function(){!function(n,e){"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?module.exports=e():n.snarkdown=e()}(void 0,function(){function n(n,e){var t=e.replace(/\*/g,"_").replace(/^(  \n\n*|\n{2,})/g,"\n\n"),o=n[n.length-1]===e,c=r[t];return c?c[1]===!1?c[0]:(n[o?"pop":"push"](e),c[o?1:0]):e}function e(n,e){return e=(e||"")+(n.match(/^(\t|  )+/m)||["[\\t ]*"])[0],n.replace(new RegExp("^"+e,"gm"),"")}function t(n){return n.replace(/(^\n+|\n+$)/g,"")}function o(i){var l,s,p,u,a,d,f=/(?:^```(\w*)\n([\s\S]*?)\n```$)|((?:(?:^|\n+)(?:\t|  {2,}).+)+\n*)|((?:(?:^|\n)([>*+-]|\d+\.)\s+.*)+)|(?:\[([^\]]+?)\]\(([^\)]+?)\)|(?:(?:^|\n+)([^\s].*)\n(\-{3,}|={3,})(?:\n+|$))|(?:(?:^|\n+)(#{1,3})\s*(.+)(?:\n+|$))|(?:`([^`].*?)`)|(  \n\n*|\n{2,}|__|\*\*|[_*]))/gm,g=[],m="",h=0;for(i=t(i),f.lastIndex=0;p=f.exec(i);)s=i.substring(h,p.index),h=f.lastIndex,l=p[0],c.lastIndex=0,c.test(s)||(p[2]?l='\n<pre class="code '+String(p[1]).toLowerCase()+'">'+p[2]+"</pre>\n":p[3]?l='\n<pre class="code poetry">'+t(e(p[3]))+"</pre>\n":p[5]?(a=p[5],"."===a.charAt(a.length-1)&&(a=".",p[4]=p[4].replace(/^\d+/gm,"")),u=o(e(p[4],"[>*+-.]")),">"!==a&&(a="."===a?"#":"*",u=u.replace(/^(.*)$/gm,"\t<li>$1</li>")),l="\n"+r[a][0]+"\n"+u+"\n"+r[a][1]+"\n"):p[6]?l=p[6].link(p[7].replace(/^javascript\:/g,"")):p[8]||p[10]?(a="h"+(p[10]?p[10].length:"="===p[9][0]?1:2),l="\n\n<"+a+">"+o(p[8]||p[11])+"</"+a+">\n"):p[12]?l="<code>"+p[12]+"</code>":p[13]&&(l=n(g,p[13]))),m+=s,m+=l;for(m+=i.substring(h),d=g.length;d--;)m+=n(g,g[d]);return t(m)}var r={_:["<em>","</em>"],__:["<strong>","</strong>"],"\n\n":["<br />\n\n",!1],">":["<blockquote>","</blockquote>"],"*":["<ul>","</ul>"],"#":["<ol>","</ol>"]},c=/[^\\](\\\\)*\\$/g;return o.parse=o,o})});
//# sourceMappingURL=snarkdown.umd.js.map